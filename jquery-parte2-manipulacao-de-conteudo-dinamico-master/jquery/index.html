<html>
<head>
	<link rel="stylesheet" type="text/css" href="carrinho.css">
</head>
<body>
	<div class="carrinho">
		<h2>Carrinho entrega em Sao Paulo</h2>
		<table>
			<thead>
				<tr>
					<td></td>
					<td>Nome</td>
					<td>Quantidade</td>
					<td>Valor</td>
					<td>Total</td>
					<td> </td>
				</tr>
			</thead>
			<tbody>
				<tr>
					<td><img src="imagens/tablet.jpg"></td>
					<td>Tablet miPad 18</td>
					<td>1</td>
					<td>499.99</td>
					<td class="item-total">499.99</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/telefone.png"></td>
					<td>Telefone miPhone 18</td>
					<td>2</td>
					<td>199.99</td>
					<td class="item-total">399.98</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/sapato.jpg"></td>
					<td>Sapato</td>
					<td>1</td>
					<td>99.99</td>
					<td class="item-total">99.99</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/monitor.jpg"></td>
					<td>Monitor Sam 21</td>
					<td>1</td>
					<td>299.00</td>
					<td class="item-total">299.00</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/teclado.jpg"></td>
					<td>Teclado com fio preto </td>
					<td>1</td>
					<td>100.00</td>
					<td class="item-total">100.00</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/mouse.jpg"></td>
					<td>Mouse wireless</td>
					<td>1</td>
					<td>199.00</td>
					<td class="item-total">199.00</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
				<tr>
					<td><img src="imagens/camiseta.jpg"></td>
					<td>Camiseta G</td>
					<td>1</td>
					<td>25.00</td>
					<td class="item-total">25.00</td>
					<td><a href="" class="remove-item"> (Remover) </a></td>
				</tr>
			</tbody>
		</table>
	</div>
	<div>
		Valor total: R$<span id="valor-total">0</span>
		<br/>
		Quantidade de itens distintos:
		<span id="quantidade-de-itens"></span>
	</div>
	<script src="js/jquery-3.0.0.js"></script>
	<script>
	var removeItem = function( object ) {
		var quantidadeComoString = $("#quantidade-de-itens").text();
    var atual = parseInt(quantidadeComoString);
    var novaQuantidade = atual - 1;
    $("#quantidade-de-itens").text(novaQuantidade);

    var self = $(object);
    self.closest("tr").remove();
	};

	var aposInicializado = function() {
		var items = $(".item-total");
		var total = 0;
		var quantidade_de_itens = 0;

		$.each(items, function() {
			var item = this;
			total = total + parseFloat($(item).text());
			quantidade_de_itens = quantidade_de_itens + 1;
		});
		$("#valor-total").text(total);
		$("#quantidade-de-itens").text(quantidade_de_itens);
	  $("td").on("click", ".remove-item", function(event){
			event.preventDefault();
			removeItem($(this));
		});
	};

	 $(aposInicializado);
	</script>
</body>
</html>
